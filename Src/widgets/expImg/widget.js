/* 2018-9-21 19:22:13 | 版权所有 火星科技 http://marsgis.cn  【联系我们QQ：516584683，微信：marsgis】 */
var toolPrint=L.widget.bindClass(L.widget.BaseWidget.extend({map:null,options:{resources:["view.css","lib/leaflet.latlng-graticule.js","lib/dom-to-image.js","lib/leaflet.marsExpImg.js"],view:[{type:"append",url:"view.html"}]},$mapParentDiv:null,$mapDiv:null,expimgCrl:null,create:function(){this.$mapParentDiv=$("#centerDiv"),this.$mapDiv=$("#"+this.map._container.id);var t=new L.latlngGraticule({showLabel:!0,zoomInterval:[{start:5,end:6,interval:2},{start:7,end:7,interval:1},{start:8,end:9,interval:.5},{start:10,end:12,interval:.2},{start:13,end:14,interval:.2}]}).addTo(this.map);domtoimage.proxy=function(t){return"/proxy/proxy.jsp?"+t},this.expimgCrl=new L.ExpImgCrl({eleid:"centerDiv",latlngControl:t}),this.expimgCrl.init(this.map)},winCreateOK:function(t,i){var e=this;this.expimgCrl._input_lat=$("#txt_print_tablecol")[0],this.expimgCrl._input_lon=$("#txt_print_tablerow")[0],$("#btn_expImg_table").click(function(t){e.expimgCrl._printPortrait(t)}),$("#btn_expImg_extent").click(function(t){e.expimgCrl._printCustom(t)}),$("#btn_expImg_all").click(function(t){e.expimgCrl._printAuto(t)}),$("#btn_expImg_close").click(function(t){e.expimgCrl._printCancel(t),e.disableBase()})},activate:function(){$(".toolBar").css({right:"250px"})},disable:function(){$(".toolBar").css({right:"10px"})}}));