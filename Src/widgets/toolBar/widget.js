/* 2018-11-7 10:26:20 | 版权所有 火星科技 http://marsgis.cn  【联系我们QQ：516584683，微信：marsgis】 */
L.widget.bindClass(L.widget.BaseWidget.extend({map:null,options:{resources:["view.css"],view:[{type:"append",url:"view.html"}]},create:function(){},winCreateOK:function(t,i){if("append"==t.type){$(".toolBar").css(this.config.style||{top:"10px",right:"10px"});for(var e="",a=this.config.data,n=0,l=a.length;n<l;n++){var o=a[n];if(!o.hasOwnProperty("visible")||o.visible)if(o.children){e+='<div class="btn-group">                                <button type="button" class="btn btn-link toolBar-btn dropdown-toggle" data-toggle="dropdown" aria-expanded="false">                                    <i class="'+o.icon+'"></i>'+o.name+' <span class="caret"></span>                                </button>                                <ul class="dropdown-menu dropdown-menu-right" style="min-width: 110px;">';for(var s=0,c=o.children.length;s<c;s++){var d=o.children[s];if(!d.hasOwnProperty("visible")||d.visible){var r="";d.onclick?r='onclick="'+d.onclick+'"':d.widget&&(r='data-widget="'+d.widget+'"'),e+='<li class="widget-btn" '+r+'><a href="javascript:void(0)"><i class="'+d.icon+'"></i>'+d.name+"</a></li>"}}e+=" </ul></div>"}else{r="";o.onclick?r='onclick="'+o.onclick+'"':o.widget&&(r='data-widget="'+o.widget+'"'),e+='<button type="button" class="widget-btn btn btn-link toolBar-btn " '+r+'>                            <i class="'+o.icon+'"></i>'+o.name+"                        </button>"}}$(".toolBar").html(e);$(".toolBar .widget-btn").each(function(){$(this).click(function(t){var i=$(this).attr("data-widget");if(!haoutil.isutil.isNull(i))if(L.widget.isActivate(i))L.widget.disable(i);else{var e=$(this).attr("data-name"),a=$(this).html().replace('<a href="javascript:void(0)">',"").replace("</a>","");L.widget.activate({uri:i,name:e||a})}})})}},activate:function(){},disable:function(){}}));