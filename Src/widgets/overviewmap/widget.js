/* 2018-7-28 11:05:59 | 版权所有 火星科技 http://marsgis.cn  【联系我们QQ：516584683，微信：marsgis】 */
L.widget.bindClass(L.widget.BaseWidget.extend({map:null,options:{resources:["../lib/leafletPlugins/_controls/overviewmap/Control.MiniMap.css","../lib/leafletPlugins/_controls/overviewmap/Control.MiniMap.js"]},miniMap:null,create:function(){for(var i,a=this.map.gisdata.config.basemaps,e=a.length-1;0<=e;e--){var n=a[e];if(null!=n._layer&&(n.hasOwnProperty("visible")&&n.visible)){i=n._layer;break}}i=L.mars.layer.cloneLayer(i);var l=new L.Control.MiniMap(i,{position:"bottomleft",toggleDisplay:!0,minimized:!1,aimingRectOptions:{color:"#ff1100",weight:2},shadowRectOptions:{color:"#0000AA",weight:1,opacity:0,fillOpacity:0}}).addTo(this.map);this.map.on("baselayerchange",function(i){var a=L.mars.layer.cloneLayer(i.layer);l.changeLayer(a)}),this.miniMap=l},activate:function(){},disable:function(){}}));